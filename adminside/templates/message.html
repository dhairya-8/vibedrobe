

{% if messages %}
        <div class="row">
          <div class="col-12">
            {% for message in messages %}
            <div class="alert alert-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show alert-auto-dismiss">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
          </div>
        </div>
{% endif %}

<script>
// Ensure this runs after all JS is loaded
window.addEventListener('load', function() {
  setTimeout(function() {
    document.querySelectorAll('.alert-auto-dismiss').forEach(alert => {
      // First fade out
      alert.style.transition = 'opacity 0.5s ease';
      alert.style.opacity = '0';
      
      // Then collapse
      setTimeout(() => {
        alert.style.transition = 'height 0.5s ease, padding 0.5s ease, margin 0.5s ease';
        alert.style.height = '0';
        alert.style.padding = '0';
        alert.style.margin = '0';
        alert.style.border = '0';
        alert.style.overflow = 'hidden';
        
        // Finally remove
        setTimeout(() => alert.remove(), 500);
      }, 500);
    });
  }, 3000);
});
</script>